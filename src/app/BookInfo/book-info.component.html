<div *ngIf="book" class="book-info">

  <div class="top-part">
    <div class="left-part">
      <img [src]="sanitizeImageUrl(book.imageLink)" alt="{{ book.title }}">
    </div>
    <div class="right-part">
      <h1>{{ book.title }}</h1>
      <p>Author: {{ book.author }}</p>
      <p>Country: {{ book.country }}</p>
      <p>Language: {{ book.language }}</p>
      <p>Pages: {{ book.pages }}</p>
      <p>Year: {{ book.year }}</p>
      <p>Link: <a href="{{ book.link }}" target="_blank">{{ book.link }}</a></p>
    </div>
  </div>

  <div class="bottom-part">
    
    <h3>Reviews</h3>
    <table>
      <thead>
        <tr>
          <th>User</th>
          <th>Comment</th>
          <th>Stars</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let review of book.reviews">
          <td>{{ review.username }}</td>
          <td>{{ review.comment }}</td>
          <td>{{ review.stars }}</td>
        </tr>
      </tbody>
    </table>

    <div class="add-review-form">
      <h3>Add a Review</h3>
      <form #reviewForm="ngForm" (ngSubmit)="addReview()">
        <div class="form-group">
          <label for="username">Username:</label>
          <input type="text" id="username" name="username" [(ngModel)]="newReview.username" required>
        </div>
        <div class="form-group">
          <label for="comment">Comment:</label>
          <textarea id="comment" name="comment" [(ngModel)]="newReview.comment" required></textarea>
        </div>
        <div class="form-group">
          <label for="stars">Stars:</label>
          <input type="number" id="stars" name="stars" [(ngModel)]="newReview.stars" required>
        </div>
        <div class="form-group">
          <button type="submit" [disabled]="reviewForm.invalid">Submit Review</button>
        </div>
      </form>
    </div>

  </div>

</div>